{"version":3,"sources":["src/data/dataStore.js","data.js","utils.js","src/data/mediaData.js","src/framework/renderer.js","src/components/MediaTypeSwitcher/MediaTypeSwitcher.js","src/components/MediaTypeSwitcher/index.js","src/components/SearchInput/SearchInput.js","src/components/SearchInput/index.js","src/components/SearchButton/SearchButton.js","src/components/SearchButton/index.js","src/components/Logo/Logo.js","src/components/Logo/index.js","src/components/SearchLayout/SearchLayout.js","src/components/SearchLayout/index.js","src/components/FiltersByCategories/FilterItem.js","src/components/FiltersByCategories/FilterBlock.js","src/components/FiltersByCategories/Filters.js","src/components/FiltersByCategories/FiltersByCategories.js","src/components/FiltersByCategories/index.js","src/components/SortSelect/Option.js","src/components/SortSelect/SortOptions.js","src/components/SortSelect/SortSelect.js","src/components/SortSelect/index.js","src/components/SelectedFiltersLayout/SelectedFilter.js","src/components/SelectedFiltersLayout/SelectedFilters.js","src/components/SelectedFiltersLayout/FilterButton.js","src/components/SelectedFiltersLayout/SelectedFiltersLayout.js","src/components/SelectedFiltersLayout/index.js","src/components/MediaCards/Card.js","src/components/MediaCards/MediaCards.js","src/components/MediaCards/index.js","src/components/NoResults/NoResults.js","src/components/NoResults/index.js","src/components/ResponseLayout/ResponseContent.js","src/components/ResponseLayout/ResponseLayout.js","src/components/ResponseLayout/index.js","src/components/Loader/Loader.js","src/components/Loader/index.js","src/components/App/App.js","src/components/App/index.js","index.js"],"names":["dataStore","requestMade","searchValue","mediaTypes","filters","selectedFiltersList","sortingSet","filteredData","filtersSelected","performFiltering","sortingOption","totalHits","allRequestsMade","lastPage","isDataLoading","noResults","renderingData","responseData","isError","focusOnFilter","errorMessage","FILTERS_BY_MEDIA_TYPE","video","audio","image","FILTERS_TEXT","keywords","location","center","creator","bitrate","colorSpace","resolutionOrigin","album","MEDIA_TYPE_SORTING_OPTIONS","SORTING_OPTIONS_TEXT","duration","date","sizeValue","framerate","bitrateValue","resolutionValue","hasFilteringParameters","filter","Object","keys","length","getParametersFromNodeList","parameter","nodeList","Array","from","map","item","isFilterSelected","filterName","categorie","some","value","isOptionNeeded","storage","option","mediaType","indexOf","isElementInArray","data","element","dataItem","toUpperCase","sortByDirection","ascending","sort","current","next","descending","resetState","prepareReponseDataForRendering","flattenedData","getResponseData","collectionData","getCollectionData","metadataFromLinks","getMetadata","getFiltersAndUpdate","window","renderApp","getAllPromisesData","fetch","href","getMetadataLinksFromCollectionList","collectionDataItem","i","metadataLink","getItemByStringPattern","metadata","replaceProtocolExtension","catch","err","setError","Promise","all","then","responseDataItem","json","link","replace","getFiltersFromMetadata","changeStateToRequestMade","getFiltersFromLists","forEach","metadataItem","getFiltersDataFromMetadata","removeClass","backgroundClassName","classList","remove","addClass","add","str","findIndex","includes","keywordIsASingleWord","keyword","split","parseInt","getConciseContentFromRespond","flat","array","reduce","acc","concat","items","links","previewImage","date_created","media_type","title","secondary_creator","nasa_id","getOnlySingleWordKeyword","getSeconds","id","removeSpacesFromLink","getCreatorsList","Date","getTime","splitStringWithDifferentSeparator","stringToSplit","responseBody","mediaMetadata","mediaKeysNeeded","MEDATADA_KEYS_BY_MEDIA_TYPE","key","transformKeyValueToNumber","updateFilterValue","filtersContainer","undefined","isArray","metadataValue","getImageAlbum","getDurationValueFromString","getSizeInKBFromString","getNumberFromString","getResolutionFromString","height","width","time","match","getSecondsFromDurationValue","separatedTimeValues","parseDuration","hours","minutes","seconds","number","unit","toLowerCase","requestMedia","searchInputValue","document","getElementById","getMediaTypes","requestURL","createRequestURL","setSelectedMediaTypes","getDataPages","pagesCounter","collection","nextPageLinkIndex","hasPage","hasNextPage","errMessage","linksList","linkItem","rel","styles","no_image__background","body","join","querySelectorAll","size","resolution","updateMediaTypes","input","inputIndex","push","splice","selectFilter","getAttribute","removeFilter","name","sortMedia","e","direction","target","filterItems","deleteIndex","searchByTerm","preventDefault","openHomePage","updateFocusState","querySelector","focus","Component","Target","componentFunction","targetElementId","innerHTML","MediaTypeSwitcher","label","overflow","button","wrapper","SearchInput","search__input","SearchButton","search__button","Logo","require","logo","SearchLayout","searchPosition","form__wrapper","form_top","form_middle","form","search__box","FilterItem","filterCounter","filter__label","text","filter__counter","FilterBlock","filter__heading","filter__item_wrapper","filterContent","Filters","FiltersByCategories","filters__wrapper","Option","sortType","SortOptions","SortSelect","SelectedFilter","filterSelected","filter__selected_container","filter__selected","remove__filter","SelectedFilters","FilterButton","filter__button","SelectedFiltersLayout","selected__filters","Card","card__item","MediaCards","NoResults","wrap","no_results","ResponseContent","cards__wrapper","sort_hits_wrapper","total_hits","ResponseLayout","response__layout","Loader","loader","App"],"mappings":"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","file":"nmse.ab899d7e.js","sourceRoot":"..","sourcesContent":["export const dataStore = {\n  requestMade: false,\n  searchValue: null,\n  mediaTypes: [],\n  filters: {},\n  selectedFiltersList: [],\n  sortingSet: false,\n  filteredData: [],\n  filtersSelected: false,\n  performFiltering: false,\n  sortingOption: false,\n  totalHits: null,\n  allRequestsMade: false,\n  lastPage: false,\n  isDataLoading: false,\n  noResults: false,\n  renderingData: false,\n  responseData: [],\n  isError: false,\n  focusOnFilter: null,\n  errorMessage: '',\n};\n","export const FILTERS_BY_MEDIA_TYPE = {\n  video: ['keywords', 'location', 'creator'],\n  audio: ['keywords', 'center', 'bitrate'],\n  image: ['keywords', 'creator', 'center', 'colorSpace', 'resolutionOrigin', 'album'],\n};\n\nexport const FILTERS_TEXT = {\n  keywords: 'key terms',\n  location: 'location',\n  center: 'center',\n  creator: 'media creator',\n  bitrate: 'audio bitrate',\n  colorSpace: 'image color space',\n  resolutionOrigin: 'image resolution',\n  album: 'image album',\n};\n\nexport const MEDIA_TYPE_SORTING_OPTIONS = {\n  video: ['duration', 'date', 'sizeValue', 'framerate'],\n  audio: ['duration', 'date', 'sizeValue', 'bitrateValue'],\n  image: ['date', 'sizeValue', 'resolutionValue'],\n};\n\nexport const SORTING_OPTIONS_TEXT = {\n  duration: 'duration',\n  date: 'creation date',\n  sizeValue: 'file size',\n  framerate: 'frame rate',\n  bitrateValue: 'bitrate',\n  resolutionValue: 'resolution',\n};\n","import {\n  MEDIA_TYPE_SORTING_OPTIONS,\n  SORTING_OPTIONS_TEXT,\n  FILTERS_TEXT,\n  FILTERS_BY_MEDIA_TYPE,\n  RESPONSE_DATA_FILES,\n} from './data.js';\n\nimport styles from './style.css';\n\nexport function hasFilteringParameters(filter) {\n  return Object.keys(filter).length;\n}\n\nfunction getParametersFromNodeList(parameter, nodeList) {\n  return Array.from(nodeList).map(item => item[parameter]);\n}\nexport function isFilterSelected(filtersSelected, filterName, categorie) {\n  return filtersSelected.some(\n    filter => filter.categorie === categorie && filter.value === filterName,\n  );\n}\n\nexport function isOptionNeeded(storage, option) {\n  return storage.mediaTypes.some(mediaType => {\n    return MEDIA_TYPE_SORTING_OPTIONS[mediaType].indexOf(option) !== -1;\n  });\n}\n\nexport function isElementInArray(data, element) {\n  return data.some(dataItem => dataItem.toUpperCase() === element);\n}\n\nexport const sortByDirection = {\n  ascending: function (data, option) {\n    data.sort((current, next) => (current[option] ? current[option] - next[option] : true));\n  },\n  descending: function (data, option) {\n    data.sort((current, next) => (current[option] ? next[option] - current[option] : true));\n  },\n};\n\nexport function resetState(storage) {\n  storage.totalHits = null;\n  storage.sortingSet = false;\n  storage.requestMade = false;\n  storage.focusOnFilter = null;\n  storage.selectedFiltersList = [];\n  storage.performFiltering = false;\n  storage.filtersSelected = false;\n  storage.filters = {};\n  storage.noResults = false;\n  storage.allRequestsMade = false;\n}\n\nexport async function prepareReponseDataForRendering(storage) {\n  if (!storage.isError) {\n    storage.flattenedData = getResponseData(storage);\n    if (!storage.flattenedData.length) storage.noResults = true;\n    const collectionData = await getCollectionData(storage.flattenedData, storage),\n      metadataFromLinks = await getMetadata(storage.flattenedData, collectionData, storage);\n    await getFiltersAndUpdate(storage, metadataFromLinks);\n  }\n  window.renderApp();\n}\n\nfunction getCollectionData(data, storage) {\n  const requests = data.map(dataItem => fetch(dataItem.href));\n  return getAllPromisesData(requests, storage);\n}\n\nfunction getMetadataLinksFromCollectionList(data, collectionData) {\n  return collectionData.map((collectionDataItem, i) => {\n    const metadataLink = getItemByStringPattern('metadata.json', collectionDataItem);\n    data[i].metadata = replaceProtocolExtension(metadataLink);\n    return fetch(data[i].metadata).catch(err => {\n      setError(err, storage);\n    });\n  });\n}\n\nfunction getMetadata(data, collectionData, storage) {\n  const metadataFetchedLinks = getMetadataLinksFromCollectionList(data, collectionData, storage);\n  return getAllPromisesData(metadataFetchedLinks, storage);\n}\n\nfunction getAllPromisesData(data, storage) {\n  return Promise.all(data)\n    .then(responseData =>\n      Promise.all(responseData.map(responseDataItem => responseDataItem.json())),\n    )\n    .catch(err => {\n      setError(err, storage);\n    });\n}\n\nfunction replaceProtocolExtension(link) {\n  return link.replace(/(http)/gm, 'https');\n}\n\nasync function getFiltersAndUpdate(storage, metadata) {\n  await getFiltersFromMetadata(metadata, storage.flattenedData);\n  storage.isDataLoading = false;\n  changeStateToRequestMade(storage);\n  getFiltersFromLists(storage.flattenedData, storage.mediaTypes, storage.filters);\n  storage.totalHits = storage.flattenedData.length;\n}\n\nfunction getFiltersFromMetadata(metadata, data) {\n  return metadata.forEach((metadataItem, i) => {\n    getFiltersDataFromMetadata(metadataItem, data[i]);\n  });\n}\n\nexport function removeClass(backgroundClassName, element) {\n  element.classList.remove(backgroundClassName);\n}\n\nfunction addClass(backgroundClassName, element) {\n  element.classList.add(backgroundClassName);\n}\n\nfunction getItemByStringPattern(str, data) {\n  return data[data.findIndex(dataItem => dataItem.includes(str))];\n}\n\nfunction keywordIsASingleWord(keyword) {\n  return keyword.split(' ').length === 1 && !parseInt(keyword);\n}\n\nfunction getResponseData(storage) {\n  return getConciseContentFromRespond(storage.responseData);\n}\n\nfunction flat(array) {\n  return array.reduce((acc, current) => acc.concat(current), []);\n}\n\nfunction getConciseContentFromRespond(items) {\n  return items.map(item => {\n    const { data, href, links: [{ href: previewImage }] = [{ href: null }] } = item;\n    const {\n      keywords,\n      date_created,\n      center,\n      media_type,\n      title,\n      secondary_creator = null,\n      nasa_id,\n    } = data[0];\n    return {\n      keywords: getOnlySingleWordKeyword(keywords),\n      date: getSeconds(date_created),\n      id: nasa_id,\n      title,\n      center,\n      previewImage: removeSpacesFromLink(previewImage),\n      href,\n      mediaType: media_type,\n      creator: getCreatorsList(secondary_creator),\n    };\n  });\n}\n\nfunction getSeconds(date) {\n  return new Date(date).getTime();\n}\n\nfunction getOnlySingleWordKeyword(keywords) {\n  return keywords ? keywords.filter(keyword => keywordIsASingleWord(keyword)) : 'unknown';\n}\n\nfunction getCreatorsList(creator) {\n  return creator !== null ? splitStringWithDifferentSeparator(creator) : ['unknown'];\n}\n\nfunction splitStringWithDifferentSeparator(stringToSplit) {\n  stringToSplit = stringToSplit.replace(/[<>]||(\\/>)/gm, '');\n  if (stringToSplit.indexOf('/') === -1) {\n    return stringToSplit.split(', ');\n  } else {\n    return stringToSplit.split('/');\n  }\n}\n\nfunction getFiltersDataFromMetadata(responseBody, dataItem) {\n  const mediaMetadata = responseBody,\n    mediaKeysNeeded = MEDATADA_KEYS_BY_MEDIA_TYPE[dataItem.mediaType];\n  Object.keys(mediaKeysNeeded).forEach(key => {\n    transformKeyValueToNumber(key, dataItem, mediaMetadata[mediaKeysNeeded[key]]);\n  });\n}\n\nfunction updateFilterValue(filtersContainer, keyword) {\n  if (keyword !== undefined) {\n    if (!filtersContainer[keyword.toUpperCase()]) {\n      filtersContainer[keyword.toUpperCase()] = 1;\n    } else {\n      filtersContainer[keyword.toUpperCase()]++;\n    }\n  }\n}\n\nfunction getFiltersFromLists(data, mediaTypes, filtersContainer) {\n  data.forEach(dataItem => {\n    mediaTypes.forEach(mediaType => {\n      FILTERS_BY_MEDIA_TYPE[mediaType].forEach(key => {\n        if (!filtersContainer[key]) {\n          filtersContainer[key] = {};\n        }\n        if (dataItem[key]) {\n          if (Array.isArray(dataItem[key])) {\n            dataItem[key].forEach(keyword => {\n              if (mediaType === dataItem.mediaType) {\n                updateFilterValue(filtersContainer[key], keyword);\n              }\n            });\n          } else {\n            updateFilterValue(filtersContainer[key], dataItem[key]);\n          }\n        }\n      });\n    });\n  });\n}\n\nfunction transformKeyValueToNumber(key, dataItem, metadataValue) {\n  if (metadataValue) {\n    switch (key) {\n      case 'album':\n        dataItem[key] = getImageAlbum(metadataValue);\n        break;\n      case 'duration':\n        dataItem[key] = getDurationValueFromString(metadataValue);\n        break;\n      case 'size':\n        dataItem[key] = getSizeInKBFromString(metadataValue);\n        dataItem[`${key}Value`] = dataItem[key].value;\n        break;\n      case 'bitrate':\n        dataItem[`${key}Value`] = getNumberFromString(metadataValue);\n        dataItem[key] = metadataValue;\n        break;\n      case 'resolution':\n        dataItem[key] = getResolutionFromString(metadataValue);\n        dataItem[`${key}Origin`] = metadataValue;\n        dataItem[`${key}Value`] = dataItem[key].height * dataItem[key].width;\n        break;\n      default:\n        dataItem[key] = metadataValue;\n    }\n  } else {\n    dataItem[key] = metadataValue;\n  }\n}\n\nfunction getDurationValueFromString(duration) {\n  if (duration && duration !== null) {\n    const time = duration.match(/\\d{1,}:\\d{2}:\\d{2}/g);\n    return time !== null ? getSecondsFromDurationValue(time[0]) : undefined;\n  }\n  return undefined;\n}\n\nfunction getSecondsFromDurationValue(time) {\n  const separatedTimeValues = parseDuration(time),\n    [hours, minutes, seconds] = separatedTimeValues;\n  return hours * 3600 + minutes * 60 + seconds;\n}\n\nfunction parseDuration(time) {\n  return time.split(':').map(item => parseInt(item));\n}\n\nfunction getImageAlbum(value) {\n  return !value ? 'unknown' : value;\n}\n\nfunction getSizeInKBFromString(value) {\n  const [number, unit] = value.split(' ');\n  switch (unit.toUpperCase()) {\n    case 'KB':\n      return { number, unit, value: getNumberFromString(number) };\n    case 'MB':\n      return { number, unit, value: getNumberFromString(number) * 1024 };\n    case 'GB':\n      return { number, unit, value: getNumberFromString(number) * 1024 * 1024 };\n  }\n}\n\nfunction getResolutionFromString(value) {\n  const [height, width] = value.toLowerCase().split('x');\n  return { height: getNumberFromString(height), width: getNumberFromString(width), value };\n}\n\nfunction getNumberFromString(value) {\n  return value ? parseInt(value) : undefined;\n}\n\nexport async function requestMedia(storage) {\n  const searchInputValue = document.getElementById('searchInput').value,\n    mediaTypes = getMediaTypes();\n  let requestURL = createRequestURL(searchInputValue, mediaTypes);\n  storage.mediaTypes = setSelectedMediaTypes(mediaTypes);\n  storage.searchValue = searchInputValue;\n  storage.responseData = [];\n\n  window.renderApp();\n  await getDataPages(storage, requestURL);\n  await prepareReponseDataForRendering(storage);\n}\n\nasync function getDataPages(storage, requestURL) {\n  let pagesCounter = 0;\n  while (!storage.allRequestsMade) {\n    await fetch(requestURL)\n      .then(data => data.json())\n      .then(data => {\n        if (data.collection.links) {\n          const { nextPageLinkIndex, hasPage } = hasNextPage(data.collection.links);\n          if (pagesCounter === 2 || !hasPage) {\n            storage.allRequestsMade = true;\n          } else {\n            requestURL = replaceProtocolExtension(data.collection.links[nextPageLinkIndex].href);\n            pagesCounter++;\n          }\n        } else {\n          storage.allRequestsMade = true;\n        }\n        storage.responseData = storage.responseData.concat(data.collection.items);\n      })\n      .catch(err => {\n        setError(err, storage);\n      });\n  }\n}\n\nfunction setError(errMessage, storage) {\n  storage.isDataLoading = false;\n  storage.allRequestsMade = true;\n  storage.isError = true;\n  storage.errorMessage = `Ooops!..${errMessage}.<br/>Try to reload the page`;\n  window.renderApp();\n}\n\nfunction hasNextPage(linksList) {\n  const nextPageLinkIndex = linksList.findIndex((linkItem, i) => linkItem.rel === 'next');\n  return nextPageLinkIndex !== -1\n    ? { hasPage: true, nextPageLinkIndex }\n    : { hasPage: false, nextPageLinkIndex };\n}\nfunction changeStateToRequestMade(storage) {\n  storage.requestMade = true;\n  addClass(`${styles.no_image__background}`, document.body);\n}\n\nfunction createRequestURL(searchInputValue, mediaTypes) {\n  const API_URL = 'https://images-api.nasa.gov/search';\n  return `${API_URL}?q=${searchInputValue}${\n    mediaTypes.length ? `&media_type=${mediaTypes.join(',')}` : ''\n  }`;\n}\n\nfunction removeSpacesFromLink(link) {\n  return link !== null ? link.split(' ').join('%20') : null;\n}\n\nfunction setSelectedMediaTypes(mediaTypes) {\n  return mediaTypes.length ? mediaTypes : null;\n}\n\nfunction getMediaTypes() {\n  const mediaTypes = document.querySelectorAll('input[name=\"mediaType\"]:checked');\n  return getParametersFromNodeList('value', mediaTypes);\n}\n\nconst MEDATADA_KEYS_BY_MEDIA_TYPE = {\n  video: {\n    location: 'AVAIL:Location',\n    framerate: 'QuickTime:VideoFrameRate',\n    duration: 'QuickTime:Duration',\n    size: 'File:FileSize',\n  },\n  image: {\n    colorSpace: 'EXIF:ColorSpace',\n    size: 'File:FileSize',\n    resolution: 'Composite:ImageSize',\n    album: 'AVAIL:Album',\n  },\n  audio: {\n    bitrate: 'MPEG:AudioBitrate',\n    duration: 'Composite:Duration',\n    size: 'File:FileSize',\n  },\n};\n","import { SORTING_OPTIONS_TEXT, FILTERS_TEXT } from '/data.js';\nimport {\n  hasFilteringParameters,\n  requestMedia,\n  removeClass,\n  isFilterSelected,\n  isOptionNeeded,\n  isElementInArray,\n  sortByDirection,\n  resetState,\n} from '/utils';\nimport styles from '/style.css';\n\nexport function updateMediaTypes(storage, input) {\n  const inputIndex = storage.mediaTypes.indexOf(input.value);\n  if (inputIndex === -1) {\n    storage.mediaTypes.push(input.value);\n  } else {\n    storage.mediaTypes.splice(inputIndex, 1);\n  }\n}\n\nexport function selectFilter(storage, filter) {\n  const { value } = filter,\n    categorie = filter.getAttribute('data-categorie');\n  storage.filtersSelected = true;\n  if (!isFilterSelected(storage.selectedFiltersList, value, categorie)) {\n    storage.selectedFiltersList.push({ value, categorie });\n    storage.focusOnFilter = filter.name;\n  } else {\n    window.removeFilter(storage, filter);\n    storage.focusOnFilter = null;\n  }\n}\n\nexport function sortMedia(storage, e) {\n  const data = storage.filtersSelected ? storage.filteredData : storage.flattenedData;\n  const [option, direction] = e.target.value.split('_');\n  storage.sortingOption = e.target.value;\n  storage.sortingSet = true;\n  sortByDirection[direction](data, option);\n}\n\nexport function filterItems(storage) {\n  storage.performFiltering = true;\n  storage.filteredData = [];\n  storage.selectedFiltersList.forEach(filter => {\n    const categorie = filter.categorie;\n    storage.flattenedData.forEach(dataItem => {\n      if (storage.filteredData.indexOf(dataItem) === -1 && dataItem[categorie]) {\n        if (Array.isArray(dataItem[categorie])) {\n          if (isElementInArray(dataItem[categorie], filter.value)) {\n            storage.filteredData.push(dataItem);\n          }\n        } else {\n          if (dataItem[categorie].toUpperCase() === filter.value) {\n            storage.filteredData.push(dataItem);\n          }\n        }\n      }\n    });\n  });\n  storage.focusOnFilter = null;\n  storage.totalHits = storage.filteredData.length;\n}\n\nexport function removeFilter(storage, filter) {\n  const { value: filterName } = filter,\n    categorie = filter.getAttribute('data-categorie');\n  const deleteIndex = storage.selectedFiltersList.findIndex(\n    element => element.value === filterName && categorie === element.categorie,\n  );\n  storage.focusOnFilter = null;\n  storage.selectedFiltersList.splice(deleteIndex, 1);\n  if (!storage.selectedFiltersList.length) {\n    storage.performFiltering = false;\n    storage.filtersSelected = false;\n    storage.totalHits = storage.flattenedData.length;\n  }\n}\n\nexport function searchByTerm(e) {\n  e.preventDefault();\n  resetState(window.data);\n  window.data.isDataLoading = true;\n  requestMedia(window.data);\n}\n\nexport function openHomePage(e) {\n  e.preventDefault();\n  window.data.requestMade = false;\n  window.data.searchValue = null;\n  window.data.mediaTypes = [];\n  resetState(window.data);\n  removeClass(`${styles.no_image__background}`, document.body);\n}\n\nexport function updateFocusState() {\n  if (window.data.focusOnFilter !== null)\n    document.querySelector(`[name=\"${window.data.focusOnFilter}\"]`).focus();\n}\n","import { updateFocusState } from '../data/mediaData';\n\nlet Component, Target;\n\nexport default function renderApp(componentFunction, targetElementId) {\n  if (componentFunction) Component = componentFunction;\n  if (targetElementId) Target = targetElementId;\n  document.getElementById(Target).innerHTML = `\n        ${Component()}\n    `;\n  updateFocusState();\n}\n","import styles from './style.css';\n\nexport default function MediaTypeSwitcher(storage) {\n  return `\n  <label for=\"mediaSwitcherButton\" class=\"${styles.label} ${styles.overflow}\">\n  ${storage.mediaTypes.length ? storage.mediaTypes.join(', ') : 'Media type'}\n  </label>\n  <input type=\"checkbox\" class=\"${styles.button}\" id=\"mediaSwitcherButton\">\n  <div class=\"${styles.wrapper}\">\n    ${['image', 'audio', 'video']\n      .map(mediaType => {\n        return `\n          <div>\n            <input type=\"checkbox\" \n                         class=\"${styles.mediaType}\"\n                         name=\"mediaType\" \n                         onchange=\"updateMediaTypes(window.data, this);window.renderApp()\"\n                         id=\"${mediaType}\" \n                         value=\"${mediaType}\"\n                         ${\n                           storage.mediaTypes.length && storage.mediaTypes.indexOf(mediaType) !== -1\n                             ? `checked`\n                             : ``\n                         }>\n            <label for=\"${mediaType}\">${mediaType}</label>\n          </div>\n          `;\n      })\n      .join('')}\n  </div>`;\n}\n","export { default } from './MediaTypeSwitcher';\n","import styles from './style.css';\n\nexport default function SearchInput(storage) {\n  return `<input type=\"text\" \n                 id=\"searchInput\" \n                 placeholder='Search for ... (e.g. \"Sun\")'\n                 class=\"${styles.search__input}\"\n                 onchange=\"window.data.searchValue = this.value;window.renderApp()\"\n                 value=\"${storage.searchValue !== null ? storage.searchValue : ``}\">`;\n}\n","export { default } from './SearchInput';\n","import styles from './style.css';\n\nexport default function SearchButton() {\n  return `<button class=\"${styles.search__button}\" ${\n    !window.data.mediaTypes.length || !window.data.searchValue ? `disabled=\"disabled\"` : ''\n  }>search</button>`;\n}\n","export { default } from './SearchButton';\n","import styles from './style.css';\n\nexport default function Logo() {\n  return `\n    <a href=\"/\" onclick=\"window.openHomePage(event); window.renderApp()\">\n      <img src=\"${require('/assets/logo.svg')}\"  class=\"${styles.logo}\">\n    </a>`;\n}\n","export { default } from './Logo';\n","import styles from './style.css';\nimport MediaTypeSwitcher from '../MediaTypeSwitcher';\nimport SearchInput from '../SearchInput';\nimport SearchButton from '../SearchButton';\nimport Logo from '../Logo';\n\nexport default function SearchLayout(searchPosition) {\n  return `\n    <div class=\"${styles.form__wrapper} ${\n    searchPosition === 'top' ? `${styles.form_top}` : `${styles.form_middle}`\n  }\">\n    ${searchPosition === 'top' ? Logo() : ``}\n    <form onsubmit=\"window.searchByTerm(event);\" id=\"searchForm\" class=\"${styles.form}\">    \n      <div class=\"${styles.search__box}\">    \n        ${MediaTypeSwitcher(window.data)}\n        ${SearchInput(window.data)}\n      </div>\n        ${SearchButton()}\n    </form>\n    </div>`;\n}\n","export { default } from './SearchLayout';\n","import styles from './style.css';\nimport { isFilterSelected } from '/utils.js';\n\nexport default function FilterItem(filterName, filterCounter, categorie) {\n  return `\n    <label class=\"${styles.filter__label}\"> \n      <input value=\"${filterName}\" \n        name=\"${filterName}\"\n        data-categorie=\"${categorie}\" \n        type=\"checkbox\"\n        ${\n          isFilterSelected(window.data.selectedFiltersList, filterName, categorie)\n            ? `checked=\"checked\"`\n            : ``\n        }\n        onchange=\"window.selectFilter(window.data, this); renderApp();\">\n      <span class=\"${styles.text}\">${filterName} </span>\n      <span class=\"${styles.filter__counter}\">(${filterCounter})</span>      \n    </label>\n  `;\n}\n","import styles from './style.css';\nimport { FILTERS_TEXT } from '/data';\nimport FilterItem from './FilterItem';\n\nexport default function FilterBlock(filtersContainer, filterName) {\n  return `<h3 class=\"${styles.filter__heading}\">${FILTERS_TEXT[filterName]}</h3>\n            <div class=\"${styles.filter__item_wrapper}\">\n              ${Object.keys(filtersContainer[filterName])\n                .map(filterContent => {\n                  return FilterItem(\n                    filterContent,\n                    filtersContainer[filterName][filterContent],\n                    filterName,\n                  );\n                })\n                .join('')}\n            </div>`;\n}\n","import styles from './style.css';\nimport { hasFilteringParameters } from '/utils.js';\nimport FilterBlock from './FilterBlock';\n\nexport default function Filters(filtersContainer) {\n  return Object.keys(filtersContainer)\n    .map(filterName => {\n      if (hasFilteringParameters(filtersContainer[filterName])) {\n        return `${FilterBlock(filtersContainer, filterName)}`;\n      }\n      return '';\n    })\n    .join('');\n}\n","import styles from './style.css';\nimport Filters from './Filters';\n\nexport default function FiltersByCategories() {\n  return window.data.noResults\n    ? ''\n    : `\n  <form id=\"filters\" class=\"${styles.filters__wrapper}\">\n    ${Filters(window.data.filters)}\n  </form>`;\n}\n","export { default } from './FiltersByCategories';\n","import styles from './style.css';\nimport { SORTING_OPTIONS_TEXT } from '/data';\n\nexport default function Option(storage, option, sortType) {\n  return `<option \n              value=\"${option}_${sortType}\" \n              class=\"${styles.option}\"\n              ${\n                storage.sortingSet && storage.sortingOption === `${option}_${sortType}`\n                  ? `selected=\"selected\"`\n                  : ''\n              }\"\n              >\n                ${SORTING_OPTIONS_TEXT[option]}  \n                ${sortType === 'ascending' ? '&#8593;' : '&#8595;'}\n            </option>`;\n}\n","import styles from './style.css';\nimport { SORTING_OPTIONS_TEXT } from '/data';\nimport { isOptionNeeded } from '/utils';\nimport Option from './Option';\n\nexport default function SortOptions(storage) {\n  return Object.keys(SORTING_OPTIONS_TEXT)\n    .map(option => {\n      if (isOptionNeeded(storage, option)) {\n        return ['ascending', 'descending']\n          .map(sortType => {\n            return `${Option(storage, option, sortType)}`;\n          })\n          .join('');\n      }\n    })\n    .join('');\n}\n","import styles from './style.css';\nimport SortOptions from './SortOptions';\n\nexport default function SortSelect() {\n  return `\n  <label>Sort by:\n    <select name=\"mediaSort\"  \n      id=\"mediaSort\" \n      onchange=\"window.sortMedia(window.data, event); window.renderApp()\">\n      ${SortOptions(window.data)}\n    </select>\n  </label>`;\n}\n","export { default } from './SortSelect';\n","import styles from './style.css';\n\nexport default function SelectedFilter(filterSelected) {\n  return `<div class=\"${styles.filter__selected_container}\">\n            <span class=\"${styles.filter__selected}\">${filterSelected.categorie}: ${filterSelected.value}</span>\n            <button class=\"${styles.remove__filter}\" \n              onclick=\"window.removeFilter(window.data, this); renderApp();\" \n              value=\"${filterSelected.value}\" data-categorie=\"${filterSelected.categorie}\">x</button>\n          </div>`;\n}\n","import styles from './style.css';\nimport SelectedFilter from './SelectedFilter';\n\nexport default function SelectedFilters(storage) {\n  return `${storage.selectedFiltersList.map(filter => SelectedFilter(filter)).join('')}`;\n}\n","import styles from './style.css';\n\nexport default function FilterButton() {\n  return `<button onclick='window.filterItems(window.data);renderApp()' \n            class=\"${styles.filter__button}\">Apply filters</button>`;\n}\n","import styles from './style.css';\nimport SelectedFilters from './SelectedFilters';\nimport FilterButton from './FilterButton';\n\nexport default function SelectedFiltersLayout(storage) {\n  return `<div class=\"${styles.selected__filters}\">\n      ${storage.filtersSelected ? SelectedFilters(storage) : ''}\n      ${storage.selectedFiltersList.length ? FilterButton() : ''}\n    </div>`;\n}\n","export { default } from './SelectedFiltersLayout';\n","import styles from './style.css';\n\nexport default function Card(dataItem) {\n  return `\n  <div class=\"${styles.card__item} \n    ${\n      dataItem.mediaType === 'audio'\n        ? `${styles.audio}`\n        : dataItem.mediaType === 'video'\n        ? `${styles.video}`\n        : `${styles.image}`\n    }\" \n    id=\"${dataItem.id}\"\n    data-background=\"${dataItem.previewImage}\"\n    style=\"background-image: url(\n    ${dataItem.previewImage !== null ? dataItem.previewImage : require('/assets/audio.svg')})\" \n    data-title=\"${dataItem.title}\">\n  </div>`;\n}\n","import styles from './style.css';\nimport Card from './Card';\n\nexport default function MediaCards(storage) {\n  const data = !storage.performFiltering ? storage.flattenedData : storage.filteredData;\n  return `${data.map(dataItem => Card(dataItem)).join('')}`;\n}\n","export { default } from './MediaCards';\n","import styles from './style.css';\n\nexport default function NoResults() {\n  return `\n  <div class=\"${styles.wrap}\">\n    <h2 class=\"${styles.no_results}\"\">No results found :(</h2>\n  </div>`;\n}\n","export { default } from './NoResults';\n","import styles from './style.css';\nimport SortSelect from '../SortSelect';\nimport SelectedFiltersLayout from '../SelectedFiltersLayout';\nimport MediaCards from '../MediaCards';\nimport NoResults from '../NoResults';\n\nexport default function ResponseContent() {\n  return !window.data.noResults\n    ? `\n  <div class=\"${styles.cards__wrapper}\" id=\"cardsWrapper\">\n    <div class=\"${styles.sort_hits_wrapper}\">\n      <h3 class=\"${styles.total_hits}\">\n        Total hits ${window.data.totalHits} for ${window.data.searchValue}\n      </h3>  \n      ${SortSelect()}\n    </div>\n    ${SelectedFiltersLayout(window.data)}\n    ${MediaCards(window.data)}\n  </div>\n  `\n    : NoResults();\n}\n","import styles from './style.css';\nimport SearchLayout from '../SearchLayout';\nimport FiltersByCategories from '../FiltersByCategories';\nimport ResponseContent from './ResponseContent';\n\nexport default function ResponseLayout(searchPosition) {\n  return `\n  ${SearchLayout(searchPosition)}\n  <div class=\"${styles.response__layout}\">\n   <br>\n   ${FiltersByCategories()}\n   <br>\n   ${ResponseContent()}\n  </div>`;\n}\n","export { default } from './ResponseLayout';\n","import styles from './style.css';\n\nexport default function Loader(str) {\n  return `<div class=\"${styles.loader}\"data-text=\"${str}\"></div>`;\n}\n","export { default } from './Loader';\n","import ResponseLayout from '../ResponseLayout';\nimport Loader from '../Loader';\nimport SearchLayout from '../SearchLayout';\n\nexport default function App() {\n  return `${\n    window.data.requestMade\n      ? ResponseLayout('top')\n      : window.data.isDataLoading\n      ? Loader('')\n      : window.data.isError\n      ? Loader(window.data.errorMessage)\n      : SearchLayout('middle')\n  }`;\n}\n","export { default } from './App';\n","import { dataStore } from './src/data/dataStore.js';\nimport styles from './style.css';\nimport renderApp from './src/framework/renderer';\nimport App from './src/components/App';\nimport {\n  updateMediaTypes,\n  selectFilter,\n  sortMedia,\n  filterItems,\n  removeFilter,\n  searchByTerm,\n  openHomePage,\n} from './src/data/mediaData';\n//todo add pagination\nwindow.data = dataStore;\n\nwindow.renderApp = renderApp;\nwindow.openHomePage = openHomePage;\nwindow.searchByTerm = searchByTerm;\nwindow.updateMediaTypes = updateMediaTypes;\nwindow.selectFilter = selectFilter;\nwindow.sortMedia = sortMedia;\nwindow.filterItems = filterItems;\nwindow.removeFilter = removeFilter;\n\nwindow.renderApp(App, 'app-root');\n"]}